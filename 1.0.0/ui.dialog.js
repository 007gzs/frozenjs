!function(a){function b(){return!1}function c(b){var c=this,g=a.extend({},e,"object"==typeof b&&b),h=!1;return a.isArray(this)&&this.length&&"script"==a(this)[0].nodeName.toLowerCase()?(c=a(a.tpl(this[0].innerHTML,g)).appendTo("body"),h=!0):a.isArray(this)&&this.length&&""==c.selector?(c=a(a.tpl(this[0].outerHTML,g)).appendTo("body"),h=!0):a.isArray(this)||(c=a(a.tpl(d,g)).appendTo("body"),h=!0),c.each(function(){var c=a(this),d=c.data("fz.dialog");d||c.data("fz.dialog",d=new f(this,a.extend({},e,"object"==typeof b&&b),h)),d.toggle()})}var d='<div class="ui-dialog"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><div><h4><%=title%></h4><div><%=content%></div></div></div><div class="ui-dialog-ft ui-btn-group"><% for (var i = 0; i < button.length; i++) { %><% if (i == select) { %><button type="button" data-role="button"  class="select" id="dialogButton<%=i%>"><%=button[i]%></button><% } else { %><button type="button" data-role="button" id="dialogButton<%=i%>"><%=button[i]%></div><% } %><% } %></div></div></div>',e={title:"",content:"",button:["чбошод"],select:0,allowScroll:!1,callback:function(){}},f=function(b,c,d){console.log(c),this.option=a.extend(e,c),this.element=a(b),this._isFromTpl=d,this.button=a(b).find('[data-role="button"]'),this._bindEvent()};f.prototype={_bindEvent:function(){var b=this;b.button.on("tap",function(){var c=a(b.button).index(a(this));b.option.callback("button",c),b.hide.apply(b)})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var a=this;a.option.callback("show"),a.element.addClass("show"),this.option.allowScroll&&a.element.on("touchmove",b)},hide:function(){var a=this;a.option.callback("hide"),a.element.off("touchmove",b),a.element.removeClass("show"),console.log(a._isFromTpl),a._isFromTpl&&a.element.remove()}},a.fn.dialog=a.dialog=c}(window.Zepto);